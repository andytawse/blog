<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="utf-8" /><meta name="Generator" content="Drupal 11 (https://www.drupal.org)" /><meta name="MobileOptimized" content="width" /><meta name="HandheldFriendly" content="true" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://www.andytawse.co.uk/blog/how-site-was-built" /><link rel="shortlink" href="https://www.andytawse.co.uk/node/4" /><title>How this site was built | Andy&#039;s Blog</title><link rel="stylesheet" media="all" href="/sites/default/files/css/css_98cfU8TK4SOL6LJvIuZBUQfgTv_fKFQQx0wNzSc-Hds.css?delta=0&amp;language=en&amp;theme=basicblog&amp;include=eJxLSizOTE7KyU_XT8_JT0rM0S0uqczJzEsHAHWWCX4" /></head><body> <a href="#main-content" class="visually-hidden focusable"> Skip to main content </a><div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas><div class="layout-container"><div data-drupal-messages-fallback class="hidden"></div> <header role="banner"><div id="block-basicblog-site-branding"> <a href="/" rel="home">Andy&#039;s Blog</a></div><nav role="navigation" aria-labelledby="block-basicblog-main-menu-menu" id="block-basicblog-main-menu"><h2 class="visually-hidden" id="block-basicblog-main-menu-menu">Main navigation</h2><ul><li> <a href="/" data-drupal-link-system-path="&lt;front&gt;">Home</a></li><li> <a href="/about-me" data-drupal-link-system-path="node/3">About Me</a></li></ul> </nav><div id="block-basicblog-siteinfo"><div><p>This site is intended to be simple, back-to-basics, low-impact and fast.</p></div></div> </header> <main role="main"> <a id="main-content" tabindex="-1"></a><div class="layout-content"><div id="block-basicblog-page-title"><h1><span>How this site was built</span></h1></div><div id="block-basicblog-content"> <article class="full"> <footer><div> Published: <span><time datetime="2024-12-06T09:53:49+00:00" title="Friday, December 6, 2024 - 09:53">6 December 2024</time></span></div> </footer><div><div><p>I wanted somewhere to post about web development. I wanted to use my web development skills, but not have to do too much maintenance (e.g. security updates) or spend much money i.e. it should be efficient, maintainable and secure ðŸŽ‰</p><ul><li>A Drupal 11 site running locally, using <a href="https://ddev.readthedocs.io/en/stable/">ddev</a></li><li>My own super-minimal theme</li><li>The <a href="https://www.drupal.org/project/tome">Tome</a> module (with some tweaks) to export a static version of the site</li><li>Hosting in a Google Cloud Storage bucket</li><li><a href="https://github.com/andytawse/blog">Here's the code on Github</a></li></ul><h2>Local site</h2><p>I could set up Docker containers from scratch, as we did at my last job. It's good to understand the underlying Dockerfiles, Docker compose, and how that all fits together, but ddev is really convenient for a freelance web developer. Highly recommended and there's <a href="https://ddev.readthedocs.io/en/stable/users/quickstart/#drupal">specific instructions for Drupal</a>.</p><h2>Theming</h2><p>I'm not a front-ender, but I used to write a lot of CSS and it's good to keep up. I didn't want any distractions, tracking, or anything that would slow the site down so there's no JavaScript, no Drupal CSS and currently not even any images.</p><p>I created a new theme, learned about flexbox and put some rudimentary CSS together from scratch.</p><h2>Static site</h2><p>I export a static version of the site using Tome, adding <a href="https://github.com/andytawse/blog/blob/main/README.md?plain=1#L19">a way to avoid Twig debugging in the final output</a>. I then push this up to Google Cloud Storage from the command line:</p><p><code>gcloud storage rsync static/ gs://www.andytawse.co.uk -r --delete-unmatched-destination-objects</code></p><h2>Hosting a static site on Google Cloud Storage</h2><p>I've been using Google Cloud for a recent project, so it made sense to make use of my knowledge. The instructions for this are fairly straightforward: <a href="https://cloud.google.com/storage/docs/hosting-static-website?hl=en">Hosting a static website</a>, which includes setting up an SSL certificate.</p><p>The gcloud <code>rsync</code> CLI command above is very much like the mighty <code>rsync</code> tool (which I love dearly), it gives a verbose output that's helpful to understand what's just happened, and has the vital <code>--dry-run</code> option if I'm feeling unsure about anything.</p></div><div class="tags"><div><a href="/taxonomy/term/3" hreflang="en">Drupal</a></div><div><a href="/taxonomy/term/4" hreflang="en">Google Cloud Storage</a></div><div><a href="/taxonomy/term/5" hreflang="en">Tome</a></div><div><a href="/taxonomy/term/6" hreflang="en">Theming</a></div><div><a href="/taxonomy/term/7" hreflang="en">rsync</a></div></div></div></article></div></div> </main></div></div></body></html>